(this["webpackJsonpslack-project"]=this["webpackJsonpslack-project"]||[]).push([[0],{73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var s=c(2),a=c.n(s),n=c(30),i=c.n(n),r=(c(73),c(16)),j=(c(74),c(112)),o=c(57),l=c.n(o),d=c(58),h=c.n(d),b=c(59),u=c.n(b),O=(c(75),c(3)),m=Object(s.createContext)(),p=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(O.jsx)(m.Provider,{value:Object(s.useReducer)(t,c),children:a})},x=function(){return Object(s.useContext)(m)};var v=function(){var e=x(),t=Object(r.a)(e,1)[0].user;return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsxs)("div",{className:"header__left",children:[Object(O.jsx)(j.a,{className:"header__avatar",src:null===t||void 0===t?void 0:t.photoURL,alt:null===t||void 0===t?void 0:t.displayName}),Object(O.jsx)(l.a,{})]}),Object(O.jsxs)("div",{className:"header__search ",children:[Object(O.jsx)(h.a,{}),Object(O.jsx)("input",{placeholder:"search"})]}),Object(O.jsx)("div",{className:"header__right",children:Object(O.jsx)(u.a,{})})]})},f=(c(82),c(60)),g=c.n(f),_=c(61),N=c.n(_),I=c(48),S=c.n(I),k=(c(83),c(11)),C=c(33),y=C.a.initializeApp({apiKey:"AIzaSyCP2jr5VGxEBQ8oeLDmbej9Gr1ev8qv49U",authDomain:"slack-project-d43f8.firebaseapp.com",projectId:"slack-project-d43f8",storageBucket:"slack-project-d43f8.appspot.com",messagingSenderId:"459735980677",appId:"1:459735980677:web:907283bbab50e09947a7ec",measurementId:"G-FD5HMDT7MY"}).firestore(),D=C.a.auth(),E=new C.a.auth.GoogleAuthProvider;var A=function(e){var t=e.Icon,c=e.id,s=e.title,a=e.addChannelOption,n=Object(k.f)();return Object(O.jsxs)("div",{className:"sidebarOption",onClick:a?function(){var e=prompt("Enter Channel Name");y.collection("rooms").add({name:e})}:function(){c?n.push("/room/".concat(c)):n.push(s)},children:[t&&Object(O.jsx)(t,{className:"sidebarOption__icon"}),t?Object(O.jsx)("h3",{children:s}):Object(O.jsxs)("h3",{className:"sidebarOption__channel",children:[Object(O.jsx)("span",{className:"sidebarOption__hash",children:"# "}),s]})]})},w=c(64),G=c.n(w),L=c(63),R=c.n(L),U=c(49),B=c.n(U),M=c(62),P=c.n(M);var T=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=x(),i=Object(r.a)(n,1)[0].user;return Object(s.useEffect)((function(){y.collection("rooms").onSnapshot((function(e){a(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(O.jsxs)("div",{className:"siderbar",children:[Object(O.jsxs)("div",{className:"sidebar__header",children:[Object(O.jsxs)("div",{className:"sidebar__info",children:[Object(O.jsx)("h2",{children:"slack project"}),Object(O.jsxs)("h3",{children:[Object(O.jsx)(g.a,{}),null===i||void 0===i?void 0:i.displayName]})]}),Object(O.jsx)(N.a,{})]}),Object(O.jsx)(A,{Icon:S.a,title:"thread"}),Object(O.jsx)(A,{Icon:B.a,title:"Apps"}),Object(O.jsx)(A,{Icon:S.a,title:"thread"}),Object(O.jsx)(A,{Icon:B.a,title:"Apps"}),Object(O.jsx)(A,{Icon:P.a,title:"Expand Less"}),Object(O.jsx)("hr",{}),Object(O.jsx)(A,{Icon:R.a,title:"Channels"}),Object(O.jsx)("hr",{}),Object(O.jsx)(A,{Icon:G.a,addChannelOption:!0,title:"Add channel"}),c.map((function(e){return Object(O.jsx)(A,{id:e.id,title:e.name},e.id)}))]})},W=(c(92),c(65)),F=c.n(W),z=c(66),J=c.n(z);c(93);var V=function(e){var t=e.message,c=e.timestamp,s=e.user,a=e.userImage;return Object(O.jsxs)("div",{className:"messages",children:[Object(O.jsx)("img",{src:a,alt:"test"}),Object(O.jsxs)("div",{className:"message__info",children:[Object(O.jsxs)("h4",{children:[s," ",Object(O.jsxs)("span",{className:"message__timestamp",children:[new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString(),"s "]})," ..."]}),Object(O.jsx)("p",{children:t})]}),Object(O.jsx)("hr",{})]})},q=(c(94),c(111));var H=function(e){var t=e.channelName,c=e.channelId,a=Object(s.useState)(""),n=Object(r.a)(a,2),i=n[0],j=n[1],o=x(),l=Object(r.a)(o,1)[0].user;return Object(O.jsx)("div",{className:"chat__input",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{value:i,onChange:function(e){return j(e.target.value)},placeholder:"chat #".concat(t)}),Object(O.jsx)(q.a,{type:"Submit",onClick:function(e){e.preventDefault(),c&&y.collection("rooms").doc(c).collection("messages").add({message:i,timestamp:C.a.firestore.FieldValue.serverTimestamp(),user:null===l||void 0===l?void 0:l.displayName,userImage:null===l||void 0===l?void 0:l.photoURL}),j("")},children:"SEND"})]})})};var K=function(){var e=Object(k.g)().roomid,t=Object(s.useState)(null),c=Object(r.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)([]),j=Object(r.a)(i,2),o=j[0],l=j[1];return Object(s.useEffect)((function(){e&&y.collection("rooms").doc(e).onSnapshot((function(e){n(e.data())})),y.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){l(e.docs.map((function(e){return e.data()})))}))}),[e]),console.log(a),console.log(o),Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsxs)("div",{className:"chat__header",children:[Object(O.jsx)("div",{className:"chat__headerLeft",children:Object(O.jsxs)("div",{className:"chat__channelName",children:[Object(O.jsxs)("strong",{children:["# ",null===a||void 0===a?void 0:a.name]}),Object(O.jsx)(F.a,{})]})}),Object(O.jsx)("div",{className:"chat__headerRight",children:Object(O.jsxs)("p",{children:[Object(O.jsx)(J.a,{})," Details"]})})]}),Object(O.jsx)("div",{className:"chat__Messages",children:o.map((function(e){var t=e.message,c=e.timestamp,s=e.user,a=e.userImage;return Object(O.jsx)(V,{message:t,timestamp:c,user:s,userImage:a})}))}),Object(O.jsx)(H,{channelName:null===a||void 0===a?void 0:a.name,channelId:e})]})},Q=c(40),Y=(c(95),c(50)),X="SET_USER";var Z=function(){var e=x(),t=Object(r.a)(e,2),c=(t[0],t[1]);return Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)("div",{className:"login__container",children:[Object(O.jsx)("img",{src:"https://image.cnbcfm.com/api/v1/image/105684220-1547727181154mb_slack_01.jpg?v=1547727329",alt:""}),Object(O.jsx)("h2",{children:"Welcome"}),Object(O.jsx)(q.a,{onClick:function(e){e.preventDefault(),D.signInWithPopup(E).then((function(e){console.log(e),c({type:X,user:e.user})})).catch((function(e){alert(e.message)}))},children:"Sign in With Google"})]})})};var $=function(){var e=x(),t=Object(r.a)(e,2),c=t[0].user;return t[1],Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(Q.a,{children:c?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"app__body",children:[Object(O.jsx)(T,{}),Object(O.jsxs)(k.c,{children:[Object(O.jsx)(k.a,{path:"/room/:roomid",children:Object(O.jsx)(K,{})}),Object(O.jsx)(k.a,{path:"/",children:Object(O.jsx)("h1",{children:"Welcome"})})]})]})]}):Object(O.jsx)("h1",{children:Object(O.jsx)(Z,{})})})})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(p,{initialState:{user:null},reducer:function(e,t){switch(t.type){case X:return Object(Y.a)(Object(Y.a)({},e),{},{user:t.user});default:return e}},children:Object(O.jsx)($,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.cf22ae8d.chunk.js.map